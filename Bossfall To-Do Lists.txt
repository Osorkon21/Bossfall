Project:         Bossfall
Copyright:       Copyright (C) 2022 Osorkon
License:         MIT License (http://www.opensource.org/licenses/mit-license.php)
Source Code:     https://github.com/Osorkon21/Bossfall
Original Author: Osorkon

Note: This file is a combination of changes made in previous versions and planned upcoming changes, written over several months.
      The formatting for the upcoming/planned changes section is extremely rough - this is not a file written with the reader in mind.
      I really don't want to lose this information, so I added it to GitHub as a backup.


BOSSFALL v1.3.1 TESTING:

Test if ur inventory & trade window (and any other window detections u add) detection in BossfallOnWindowChange detects D.R.E.A.M. (and any other mods that u think might need 2 be checked) versions of these windows (I think it should? Unless it's registering a custom UI window instance... then ur in trouble)
Test built .dfmod w/DFU 0.13.5 make sure ur mod works w/it and doesn't crash
Test ur new shields w/D.R.E.A.M. see if they correctly use modded textures (they should work fine)
Test "World of Daggerfall" mod w/new .dfmod, save outdoors, load outdoors, save inside, load inside w/Bossfall and World of Daggerfall running @ same time make sure nothing breaks
Test vampire/lycan on enemy death stuff make sure u approve
Test dungeon entrance flavor msgs w/a few dungeons make sure u approve
Test skill advancement difficulty on all 3 settings make sure u approve?
Test potion creation make sure Dispel Magic potion (use console 2 create potions) & potion recipe (from Alchemist shops) get created
Test item creation w/enemies that use starting equipment w/out mods make sure it works & u approve
Test item creation w/enemies that use starting equipment w/mods (RPR:I mainly) make sure it works & u approve
Test startup quest make sure it pops on new game start


BOSSFALL v1.3.1 TO-DO:


.DFMOD DL FOLDER CONTENTS:

bossfall.dfmod for appropriate OS
ReadMe in each OS folder, add to each folder once all changes are completed and added 2 ReadMe


.DFMOD ESSENTIALS:

Additional wpn swing fatigue cost in new BossfallPlayerEntity (think of better name if possible) script's Update method (22 extra Fat/swing IIRC, I want it to be the same as vanilla BF, which is 33? Verify all these numbers 2 make sure ofc)
Add Potion/Potion Recipe of Dispel Magic (make it a custom potion effect that doesn't erase player's Teleport anchor(s))
Bossfall startup quest (u will need 2 add a Bossfall-QuestList or whatever as a new file, see base game's QuestList file for template)
Add BossfallEnemyDeath event handler 4 vampire/lycan on death stuff in BossfallEnemyMotor 2 make it instanced by enemy? See how u did it in v1.3 for guidance
Everything below this up to BOSSFALL v1.4 TO-DO needs to be added b4 initial release


.DFMOD NOTES:

Add ItemGroups.Armor to static Dictionary storeBuysItemType in DaggerfallTradeWindow, erase old List entry first, should end up looking like:

    { DFLocation.BuildingTypes.GeneralStore, new List<ItemGroups>()
    { ItemGroups.Armor, ItemGroups.Books, ItemGroups.MensClothing, ItemGroups.WomensClothing, ItemGroups.Transportation, ItemGroups.Jewellery, ItemGroups.Weapons, ItemGroups.UselessItems2 } }

Do above 5 lines w/Reflection - this will make General Stores buy armor, but don't make 'em sell Armor

Go thru all scripts that contain vanilla code make sure it's all clearly marked, follow BFPlayerActivate as template

SCRIPTS CLEARED:

BossfallPlayerActivate

If u subscribe enemies 2 OnNewReadySpell and/or OnCastReadySpell remember 2 unsubscribe them from these events in ur OnEnemyDeath event handler
Only spellcasting enemies are subscribed 2 the above 2 events, only unsubscribe spellcasting enemies from these events in ur OnEnemyDeath event handler
Remove OP powers from ItemMaker b4 initial release? Not sure about this one, if u do remove all powers u previously removed
Remove OP powers from SpellMaker b4 initial release? Not sure about this one, if u do remove all spell powers u previously removed
Add chance of finding mod items in house containers, use StockShopShelves as starting template, u'll have 2 modify it so it's not guaranteed, use ur List of mod items here
Double check all ur item gen methods that handle loot pile, enemy loot table random items, and shop shelf/house container loot gen - make sure mod items are automatically generated when appropriate so u don't need 2 add them manually (I think this is already the case but it never hurts 2 check) - this is NOT true for house containers
Change Legal Info on NexusMods & 3rd forum post, include blurb about "not all code was written by me, I've marked all code I didn't write, check code for author before using/crediting"
To generate mod wpns/armor one by one (do this the first time ur "add starting equipment 2 enemies" method is called, do it only once) and then check generated items for where they should be equipped (this will guaranteed tell u what location armor piece/wpn goes to). Once u process entire Lists of generated mod items u get from ItemHelper.GetCustomItemsForGroup(ItemGroups.Weapons and ItemGroups.Armor), store the item templates in a permanent container u make so then u know what goes where, only should have 2 process every mod item once
5189333 is ur Dispel Magic potion key (that uses ur custom Dispel Magic potion recipe)
If u add BossfallEnemyDeath script remember to add this component to custom enemies in BossfallOnLootSpawned method in Bossfall.cs
GameManager.Instance.Dungeon.Summary.DungeonType (or whatever) can be called to see what dungeon type ur entering, use that for ur dungeon entrance flavor msgs, make popup HUD msgs last twice as long as normal? (or SETTING: Make actual msg box popup 2 display ur dungeon entrance flavor txt?)
Make sure ur dungeon popup doesn't happen when player enters or begins new game in a main quest dungeon
Add skill method override to BossfallOverrides, remember 2 register it w/FormulaOverride, use Bossfall skill difficulty that changes w/Bossfall setting values
Download latest version of all used mods to make sure latest versions work w/Bossfall .dfmod b4 releasing anything
Update all FAQ questions (if necessary) for relevance after .dfmod release on NexusMods and 3rd forum post
Add "why doesn't Disable AI work" FAQ question to NexusMods & 3rd forum post
Write Bossfall .dfmod
Update lines of code & comments added or modified in 2 NexusMods credits spots & 3rd forum post, just put lines o' code & comments in .dfmod
Remove lines of comments from 2 NexusMods credits spots and 3rd forum post
Update time spent in 2 NexusMods credits spots & 3rd forum post, just put "worked on since mid-October 2021", whatever that value in months is


.DFMOD ReadMe SECTIONS START:


.DFMOD SUMMARY OF CHANGES: section, add following sections to SUMMARY OF CHANGES once corresponding feature is actually added to .dfmod

    MAGIC ITEMS:

        - You can find a new Dispel Magic potion and potion recipe.


    SKILLS:

        - By default, most skills are very difficult to level. Language skills are much easier to level.

        - The "Skill Advancement Difficulty" setting determines how fast you gain skill levels.


    VAMPIRISM:

        - If you are a Vampire, you will be healed varying amounts when you kill enemies with fresh blood.


.DFMOD CHANGELOG: section, add following sections to CHANGELOG once corresponding feature is actually added to .dfmod

    COMBAT:

        - Attack fatigue cost tripled.


        SKILL ADVANCEMENT DIFFICULTY: (add 2 SETTINGS section, after ENEMY MOVE SPEED and before BOSS PROX WARNING)

            - Switch between vanilla skill advancement difficulty and two harder options.

            - "Hard" is rebalance I did for Bossfall v1.3, "Extremely Hard" is v1.2.1 difficulty, in my opinion suitable for only
              the most patient adventurers.

    SKILLS:

        - All weapon and spell skills and some acrobatic and combat skills are by default extremely hard to level. Change this
          with the "Skill Advancement Difficulty" setting.

        - Language skills, however, are much easier to level. This includes Etiquette and Streetwise.

        - Most stealthy/thieving skill difficulties unchanged.

        - For precise skill difficulties by setting, see FORMULAS & TABLES section of the ReadMe.


    POTIONS:

        - Dispel Magic is now a Potion, recipes spawn normally (so player can get rid of Continuous Damage effects).


.DFMOD FORMULAS & TABLES: section, merge/add following sections to FORMULAS & TABLES once corresponding feature is actually added to .dfmod & to CHANGELOG section


    FALLING DAMAGE:

        - add ur fall dmg formula here


    SKILL ADVANCEMENT DIFFICULTY:

        - Add ur tables here, simply calculate how much more difficult both ur settings are than vanilla as vanilla's exact
          skill calculations are very obtuse and hard to follow IMO, don't include any vanilla formulas


    VAMPIRISM:

        - Vampire player characters are healed the following amounts when they kill these enemies:

        - Split this up into alphabetized? scaling by HP? 2 or 3 rows, add here

            Rat: 3 HP
            Imp: 2 HP
            Giant Bat: 3 HP
            Grizzly Bear: 75 HP
            Sabertooth Tiger: 50 HP
            Spider: 9 HP
            Orc: 40 HP
            Centaur: 50 HP
            Werewolf: 40 HP
            Nymph: 15 HP
            Slaughterfish: 5 HP
            Orc Sergeant: 50 HP
            Harpy: 15 HP
            Wereboar: 50 HP
            Giant: 150 HP
            Zombie: 1 HP
            Giant Scorpion: 12 HP
            Orc Shaman: 45 HP
            Orc Warlord: 200 HP
            Daedroth: 100 HP
            Vampire: 175 HP
            Daedra Seducer: 150 HP
            Vampire Ancient: 255 HP
            Daedra Lord: 255 HP
            Dragonling: 15 HP
            Flesh Atronach: 1 HP
            Dragonling_Alternate: 200 HP
            Dreugh: 20 HP
            Lamia: 30 HP
            Mage: 15 HP
            Spellsword: 20 HP
            Battlemage: 25 HP
            Sorcerer: 15 HP
            Healer: 15 HP
            Nightblade: 20 HP
            Bard: 20 HP
            Burglar: 20 HP
            Rogue: 25 HP
            Acrobat: 15 HP
            Thief: 20 HP
            Assassin: 200 HP
            Monk: 35 HP
            Archer: 30 HP
            Ranger: 35 HP
            Barbarian: 50 HP
            Warrior: 45 HP
            Knight: 40 HP
            Guard: (HALT!) 50 HP
            Civilian NPC: 10 HP


END OF .DFMOD ReadMe SECTIONS


.DFMOD CRIME & PUNISHMENT:

Legal reputation loss for most crimes changed. Loan default more severe (-30), murder tanks rep (-50)
All fines doubled, banishment less likely
Murder carries severe penalties (minimum 12 years & 120K fine)
Dark Brotherhood chance of averting murder/assault conviction increased (if you're a guildmember)


.DFMOD SHOPS:

General stores buy armor


.DFMOD INVISIBILITY:

Credit "thevm" for the inspiration for these Invis changes
Give enemies that used to see thru Invis one-time chance to see thru it (checks once per enemy), have it set bool if check succeeds
Depends on player's Illusion skill, use Lerp to add between 50% chance to see thru Invis @ 1% Illusion skill down to added 0% chance to see thru Invis @ 100% Illusion skill)
Base chance to see thru Invis increases the more powerful the enemy is (non-boss Daedra have like 15-20% chance to see thru it)
Add HUD msg to tell player which monster can see thru it & why? ("The Imp is not fooled by your clumsy Illusion spell.")

Base chance to see thru Invis @ 100% player Illusion skill (flesh out rest o' list w/all previous enemies that used 2 see thru Invis):

Imp 0


.DFMOD ITEMS:

Nerf glove/boot H2H durability damage slightly (2 for gloves, 3 for boots), credit "thevm" for feedback that led 2 change


.DFMOD LYCANTHROPY:

Custom HUD messages display when player with Lycanthropy kills innocents (townspeople and Guards), I added 38 different messages
If player with Lycanthropy kills a Guard "Guard just died." message is replaced w/custom HUD message


.DFMOD VAMPIRISM:

Make heal happen only if player kills enemy, include distance check from GitHub Bossfall branch so player only heals in melee range
Figure something out that only fires when player kills an enemy and use that
Display random msg from current Vampire msg array if VampireHealAmount array element > 1, call string.Replace(%s) method, put %s in all msgs 2 indicate where to put enemy name
Add screenshot of Vampire HUD message (an eye-catching msg) to NexusMods, and to forum post somewhere from post 1-3
Add +10 player HP for Vampire civilian NPC kills, pop up standard Vampire on kill HUD msg, put this check in wherever u end up putting Vampire checks

Vampire players are healed when they kill anything with fresh blood, heal amount depends on entity killed
Custom HUD messages are displayed when Vampire player kills an entity, replaces "(enemy) just died." msg, I added 52 different msgs
Custom HUD messages are displayed when entity has old blood (Zombies and Flesh Atronachs), I added 14 different msgs


BOSSFALL v1.4 TO-DO:

ACROBATICS:

Add BossfallClimbingMotor script, add a climbing chance check that runs whenever vanilla's check runs, always run this after vanilla's climbing check, then if player fails ur check set isSlipping (in ClimbingMotor) to true, test if this is all u need to do ofc
In BossfallPlayerActivate Update method? check if IsRappelling is true, if it is save the initial Climbing skill checks value and once IsRappelling is false set Climbing checks to starting value (this makes Rappel mode not give Climbing checks)?


BANKING:

TO ADD: You can only have one bank loan at a time, different regions will not loan you more
TO ADD: Defaulting on any loan will permanently ban player from getting another loan from any region


CHARACTER CREATION:

TO ADD: Spellswords/custom wizard classes start w/Balyna's Balm


DISEASE/POISON:

Add Poison that inflicts ur custom Slow effect
Add Poison that inflicts ur custom Fear effect
Add Poison that inflicts ur custom Enfeeble effect
Change AssignEnemyStartingEquipment (or equivalent methods for enemies u want to add poison chance for) method to include ur custom poisons 4 wpn poisons
Add more poison/disease curing options? With guilds or something? Or thru temples?


DUNGEON LOOT GENERATION:

This section applies 2 both dungeon loot piles & loot table generated enemy items for enemies in said dungeons, does not apply to enemy equipment
locationModifier = DungeonSize lM * DungeonType lM (Cemetery is just a flat 0.1 lM, not affected by DungeonSize)
Have two parameters implement what this section gets - both are relative to 1, which is starting gen chance of 75 for while loops in BossfallItemBuilder item gen methods & +0 to enemyLevelModifier (which is enemy level * 50, which is fed into ur BossfallOverrides.RandomMaterial method)
A locationModifier of 3 will set starting gen chance of 150 for while loops & +250 to enemyLevelModifier, and a 0.01 locationModifier will set starting gen chance of 0 for while loops & -250 to enemyLevelModifier (a +5 or -5 enemy level boost essentially)

No armor/weapons/ingredients/books underwater, it'd erode, gold & Silver & magic items would not so they can still be there

DungeonSize (pull from playerLocation, dbl check u can read this while ur entering dungeon):

DungeonLabyrinth: 1.5 lM
DungeonKeep: 1 lM
DungeonRuin: 0.5 lM

DungeonType:

Crypt: 0.66 lM
Orc Stronghold: 0.75 lM, Orcish somewhat more common
Human Stronghold: 1 lM
Prison: 1 lM, enemies have higher chance of poisoned weapons
Desecrated Temple: 1.5 lM, tons o' Religious Items
Mine: 0.5 lM Dwarven more common, lots o' Warhammers
Natural Cave: 0.25 lM, armor/wpns very rare, ingredients abound
Coven: 1.75 lM, Books/ingredients/magic items very common in Covens, Daedric somewhat more common
Vampire Haunt: 2 lM, Best loot in the game
Laboratory: 1 lM, Ingredients/magic items very common
Harpy Nest: 0.25 lM
Ruined Castle: 1 lM
Spider Nest: 0.25 lM, mostly clothing and junk
Giant Stronghold: 1.25 lM
Dragon's Den: 0.6 lM, tons o' gold, wpns/armor, higher chance o' magic items, little of everything else as dragons don't collect other stuff
Barbarian Stronghold: 0.8 lM, higher chance o' Iron/Steel, less chance of every other material, no books
Volcanic Caves: 1.5 lM
Scorpion Nest: 0.4 lM, mostly clothing and junk
Cemetery: 0.1 lM, mostly clothing and junk, this number doesn't change based on DungeonSize, is constant


ENEMY EQUIPMENT GENERATION:

For enemies that use equipment (under current Bossfall rules) this section determines QUANTITY and QUALITY of generated equipment based on location/enemy factors

Instead of using current BossfallItemBuilder AssignEnemyStartingEquipment method, if enemy uses equipment give 'em their own unique equipment creation method w/probabilities 4 each item/item type (for example ingredients on a Mage, wpns on a Warrior), make sure 2 not generate full suits of armor too often
Equipment generation is altered based on locationModifier which will change depending on where enemy is, time of day, this will affect both quantity of equipment generated and item material rarity gen chances
For each armor piece check if mod variants are available, if so 60% use vanilla armor piece 40% use a random mod piece, material tier selection chances same for both variants
Only gen armor that class can use if gen for human class enemy (for equipment gen, loot table gen can be anything)
Only gen 1 armor piece per protected body part (for equipment gen, loot table gen can be anything)
For each wpn kit selected to be used (2H, 1H, 1H + SH, 2 1H, BC) check if mod variants 4 that wpn type is available, if so use 60% vanilla wpns and 40% mod variants, only gen one or the other, material tier selection chances same 4 both variants
Have two parameters implement what this section gets - both are relative to 1, which is starting gen chance of 75 for while loops in BossfallItemBuilder item gen methods & +0 to enemyLevelModifier (which is enemy level * 50, which is fed into ur BossfallOverrides.RandomMaterial method)
A locationModifier of 3 will set starting gen chance of 150 for while loops & +250 to enemyLevelModifier, and a 0.01 locationModifier will set starting gen chance of 0 for while loops & -250 to enemyLevelModifier (a +5 or -5 enemy level boost essentially)

if (IsGeneratingDungeonObjects)
locationModifier = DUNGEONLOOTGENERATION.locationModifier

if (isDay && player.IsInLocationRect (or whatever detects if they're in a map pixel w/a location))
locationModifier = LOCATIONLOOTGENERATION.locationModifierDay

if (isDay && !player.IsInLocationRect (or whatever detects if they're in a map pixel w/a location))
locationModifier = WILDERNESSLOOTGENERATION.locationModifierDay

if (!isDay && player.IsInLocationRect (or whatever detects if they're in a map pixel w/a location))
locationModifier = LOCATIONLOOTGENERATION.locationModifierNight

if (!isDay && !player.IsInLocationRect (or whatever detects if they're in a map pixel w/a location))
locationModifier = WILDERNESSLOOTGENERATION.locationModifierNight


ENEMY LOOT:

This section determines WHAT KIND of items will be generated for all enemies that drop items, each enemy's item symbol array affects what items drop & their gen chances
Make one item creation method & vary what it outputs depending on incoming enemy item symbol array
Break up this method into 2 parts - one part gens wielded equipment (remember 2 equip everything to enemy in this section, use BFItemBuilder GenerateEnemyEquipment -or whatever - as template 2 follow), one part gens random loot
Rework current item gen methods, remove all traces of old 2-step item gen process and methods from BFEventHandlers from every event handler that generates items (3 event handlers do this, dbl check 2 make sure u catch every item gen method ofc)
Add another layer 2 ur custom enemy item gen method - this (final?) layer determines what armor/wpn templates are available 2 be generated for that enemy for wielded equipment & how rare the BIS wpns/armor are
Use ur current vars locationModifier & enemyLevelModifier (or just enemyLevelModifier 2 be more clear if possible/practical) to determine what item templates can be spawned as wielded equipment & how rare the BIS items are - if mod item replacements for selected item exist add ~40% chance to gen mod item instead of vanilla
For any enemy the BIS wpns/armor should always be able 2 be generated as wielded equipment if enemy uses that type of equipment (for example Thieves never wield 2H wpns so never give 'em 2H as wielded equipment)
If enemy doesn't wield a particular equipment type enemy can carry it as random loot, ur above modifiers determine how likely this is
For class enemies - they never wield armor materials they can't use, but they can carry them as random loot
For class enemies - they preferably wield best armor material 4 their class (Chain for Barbs, Plate for Warriors, etc.) but they can have worse material tiers equipped ofc
Scale ingredient gen chances using the same enemyLevelModifier u end up using for ur new random enemy level-scaled gold gen formula (once u come up w/new gold gen formula ofc)
Make enemy items spawn damaged? They can be very beat-up, or in perfect shape - weight chances to be around 50% to 65% durability? This number is prelim & can change
Go thru all current BF loot spawn methods make sure to convert everything 2 work w/ur new one-size-fits-all item gen method, delete all traces of old code that won't work anymore or aren't used

"thevm" Add very low Soul Gem chance for human spellcasters above level 15 and spellcasting bosses (and Assassins, DB uses Soul Gems), this chance would scale (slightly) with enemy's level, still would be very rare overall

Non-magical or non-spellcasting enemies: -IC, +IQ, -PO, -POQ, xPOR, xPORQ
Spellcasters: +IC, +IQ, +BK, +PO, POQ, +POR, PORQ
Thief: +GJC, +GJQ, +G, MC? +MC?
Burglar: GJC, +GJQ, +G, PC? -PC?
Bards +PC, -MC? MC?
Acrobats: +CC, +CQ
All class enemies drop clothing, quality depends on enemy
Make item rarity in ItemTemplates some kind o' key that determines what enemies carry them & how rare they are? Do this at least for wpns/armor?

When finished building item chance/quality list at end of this section, to add this as code, convert + to 3, normal to 2, - to 1, x to 0, add finished array 2 code in BossfallItemBuilder up top as field as follows:

static Dictionary<byte, byte[]> enemyItemGenData = new Dictionary<byte, byte[]>();

where byte = MobileEnemy.ID and byte[] is the enemy item chance/quality list converted to an array

In Bossfall.Init initialize the dictionary w/values in it already, store dictionary in BFItemBuilder
Re-order below list once entries are complete 2 match ascending order of enemy IDs(dbl check 4 accuracy ofc)
Don't copy/paste entire item array collection 2 BFItemBuilder once complete - copy/paste each enemy's item array one @ a time (name included) so u can dbl check the enemy item array ends up in the right order
When u convert item symbol arrays w/Find/Replace 2 ints, convert special symbols (e.g. +G, -G, xG) first, then as last step convert regular symbols to int (e.g. G), dbl check 4 accuracy as u go ofc

Implement item generation changes from section below this one as follows:

Higher gold amount doubles gold generated in BossfallItemBuilder
Lower gold amount quarters? halves? gold generated in BossfallItemBuilder

For higher bow/weapon/armor/magic item quality indicators:

Higher (item) quality raises enemyLevelModifier by 250 for that item group
Lower (item) quality reduces enemyLevelModifier by 250 for that item group

For 2H, 1H, 1HS, 21H, BC:

Higher chance means const 75% chance enemy will use this wpn kit (this const is split equally among all higher indicators if multiple are present), 25% something else (if nothing else is possible, then Higher chance = 100% chance obv)
Normal chance total probability must equal twice that of total lower probability if both are present and complications arise
Lower chance means 1/4 total chance of higher's total chance of occurring, 1/2 total chance of normal's total chance of occurring (see below line for more specific situational guidance)
Highest indicator always has priority and will get full probability of occurring, no matter what (e.g. if there's 1 higher, 2 normal, and 1 lower indicator, the higher has full 75% chance of occurring, 2 normal must equal a total probability twice that of lower's, so each normal has 8.33% chance of happening, so lower ends up w/8.33% chance of happening)
If there are multiple wpn kits w/same higher/lower indicator, split up probability evenly between them (e.g. if there are 2 higher indicators and 2 lower, then higher indicators each have 37.5% chance, lower indicators each have 12.5% chance of happening)
If there is one higher/normal indicator and multiple lower indicators, split up probability evenly between the lower indicators, higher/normal remains 75%/50% chance of happening

While loop generated items:

Make this clothing generation while loop NOT generate any kind of cloak (they're generated elsewhere)  |
                                                                                                       v
Higher armor/ingredient/book/religious item/clothing chance raises starting while loop chance in BossfallItemBuilder by 50 for that item group
Lower armor/ingredient/book/religious item/clothing chance reduces starting while loop chance in BossfallItemBuilder by 50 for that item group

Higher ingredient quality generates using all ingredients (if that differentiation has already been made in vanilla code, if not make a custom list)
Normal ingredient quality generates using mid-tier ingredient list & lower (if that differentiation has already been made in vanilla code, if not make a custom list)
Lower ingredient quality generates using low-tier ingredient list only (if that differentiation has already been made in vanilla code, if not make a custom list)

Higher magic item chance raises starting while loop chance in BossfallItemBuilder by 3 for magic item group (or whatever number is necessary to not always be 0 or less if Lower indicator is raised)
Lower magic item chance reduces starting while loop chance in BossfallItemBuilder by 3 for magic item group (or whatever number is necessary to not always be 0 or less if Lower indicator is raised)

Higher religious item quality can generate all non-custom religious items and all my custom holy items
Normal religious item quality can generate all non-custom religious items plus custom Holy Water
Lower religious item quality can generate all non-custom holy items minus Holy Candles (they're worth too much)

Higher clothing quality can generate all clothing
Normal clothing quality can generate clothing with rarities up to 17 (item rarities are set in ItemTemplates.txt)
Lower clothing quality can generate clothing with rarities up to 13 (item rarities are set in ItemTemplates.txt)

Non-while loop items - these are chances to generate only 1 item, they'll never generate more than 1:

Higher map chance raises chance by 3 (or whatever number is necessary to not always be 0 or less if Lower indicator is raised)
Lower map chance reduces chance by 3 (or whatever number is necessary to not always be 0 or less if Lower indicator is raised)

Higher potion chance raises chance by 3
Lower potion chance reduces chance by 3

Higher potion quality unlocks Bossfall OP potion tier
Normal potion quality uses standard vanilla potions
Lower potion quality will be crappy vanilla potions (slowfall, chameleon, shadow form, any other terrible ones I can think of)

Higher potion recipe chance raises chance by 1
Lower potion recipe chance reduces chance by 1

Higher potion recipe quality unlocks Bossfall OP potion recipe tier
Normal potion recipe quality uses standard vanilla potion recipes
Lower potion recipe quality will be crappy vanilla potions (slowfall, chameleon, shadow form, any other terrible ones I can think of)

Higher painting chance is 3
Normal painting chance is 2
Lower painting chance is 1

Split incoming Gem/Jewelry chance into 2 separate generation methods with chance at generating 2 items total - 1 gem, 1 jewelry with following probabilities:

Higher gem chance is 5
Normal gem chance is 3
Lower gem chance is 1

Higher gem quality can generate a gem of any rarity
Normal gem quality can generate gems with rarities up to 17 (item rarities are set in ItemTemplates.txt)
Lower gem quality can generate gems w/rarities up to 13 (item rarities are set in ItemTemplates.txt) - pearls only, I think, if I'm wrong then generate some random nearly worthless tiny chunk of metal from ingredient list

Higher jewelry chance is 15
Normal jewelry chance is 10
Lower jewelry chance is 5

Higher jewelry quality selects from all jewelry
Normal jewelry quality can generate jewelry with rarities up to 17 (item rarities are set in ItemTemplates.txt)
Lower jewelry quality can generate jewelry with rarities up to 13 (item rarities are set in ItemTemplates.txt)

Higher cloak chance is 10
Normal cloak chance is 6
Lower cloak chance is 2

Higher cloak quality is Formal Cloaks, no Casual Cloaks
Normal cloak quality is Formal and Casual Cloaks (50/50 split on generation probability)
Lower cloak quality is Casual Cloaks, no Formal Cloaks

Higher set item chance is 1/5 (VampireAncient, DaedraLord, AncientLich)
Normal set item chance is 1/15 (Assassin bosses, OrcWarlord, Dragonling_Alternate)
Lower set item chance is 1/25 (Vampire, Lich)
Non-boss set item chance is 1/1000

One of each of these symbol types must be represented in the enemy equipment list for each enemy that uses equipment, order must match below list in descending order

Higher gold amount: +G
Normal gold amount: G
Lower gold amount: -G
No gold: xG

Higher weapon quality: +WQ
Normal weapon quality: WQ
Lower weapon quality: -WQ
No weapon: xWQ

Higher bow quality: +BQ
Normal bow quality: BQ
Lower bow quality: -BQ
No bow: xBQ

Higher armor quality: +AQ
Normal armor quality: AQ
Lower armor quality: -AQ
No armor: xAQ

Higher 2H chance: +2H
Normal 2H chance: 2H
Lower 2H chance: -2H
No 2H: x2H

Higher 1H chance: +1H
Normal 1H chance: 1H
Lower 1H chance: -1H
No 1H: x1H

Higher 1H + Shield chance: +1HS
Normal 1H + Shield chance: 1HS
Lower 1H + Shield chance: -1HS
No 1H + Shield: x1HS

Higher 2 1H chance: +21H
Normal 2 1H chance: 21H
Lower 2 1H chance: -21H
No 2 1H: x21H

Higher bow chance: +BC
Normal bow chance: BC
Lower bow chance: -BC
No bow: xBC

Higher armor chance: +AC
Normal armor chance: AC
Lower armor chance: -AC
No armor: xAC

High ingredient chance: +IC
Normal ingredient chance: IC
Lower ingredient chance: -IC
No ingredients: xIC

Higher ingredient quality: +IQ
Normal ingredient quality: IQ
Lower ingredient quality: -IQ
No ingredients: xIQ

Higher magic item chance: +MI
Normal magic item chance: MI
Lower magic item chance: -MI
No magic items: xMI

Higher magic item quality: +MIQ
Normal magic item quality: MIQ
Lower magic item quality: -MIQ
No magic items: xMIQ

Higher book chance: +BK
Normal book chance: BK
Lower book chance: -BK
No books: xBK

Higher potion chance: +PO
Normal potion chance: PO
Lower potion chance: -PO
No potions: xPO

Higher potion quality: +POQ
Normal potion quality: POQ
Lower potion quality: -POQ
No potions: xPOQ

Higher potion recipe chance: +POR
Normal potion recipe chance: POR
Lower potion recipe chance: -POR
No potion recipes: xPOR

Higher potion recipe quality: +PORQ
Normal potion recipe quality: PORQ
Lower potion receipe quality: -PORQ
No potion recipes: xPORQ

Higher map chance: +MC
Normal map chance: MC
Lower map chance: -MC
No map: xMC

Higher religious items chance: +RIC
Normal religious items chance: RIC
Lower religious items chance: -RIC
No religious items: xRIC

Higher religious item quality: +RIQ
Normal religious item quality: RIQ
Lower religious item quality: -RIQ
No religious items: xRIQ

Higher gem/jewelry chance: +GJC
Normal gem/jewelry chance: GJC
Lower gem/jewelry chance: -GJC
No gem/jewelry: xGJC

Higher gem/jewelry quality: +GJQ
Normal gem/jewelry quality: GJQ
Lower gem/jewelry quality: -GJQ
No gem/jewelry: xGJQ

Higher painting chance: +PC
Normal painting chance: PC
Lower painting chance: -PC
No paintings: xPC

Higher clothing chance: +CC
Normal clothing chance: CC
Lower clothing chance: -CC
No clothing: xCC

Higher clothing quality: +CQ
Normal clothing quality: CQ
Lower clothing quality: -CQ
No clothing: xCQ

Higher cloak chance: +CLC
Normal cloak chance: CLC
Lower cloak chance: -CLC
No cloak: xCLC

Higher cloak quality: +CLQ
Normal cloak quality: CLQ
Lower cloak quality: -CLQ
No cloak: xCLQ

Higher set item chance: +SI
Normal set item chance: SI
Lower set item chance: -SI
Non-boss set item chance: xSI

Monsters:

Imp: -G, xWQ, xBQ, xAQ, x2H, x1H, x1HS, x21H, xBC, xAC, -IC, +IQ, xMI, xMIQ, xBK, xPO, xPOQ, -POR, -PORQ, -MC, xRIC, xRIQ, -GJC, +GJQ, xPC, xCC, xCQ, xCLC, xCLQ, xSI
Spriggan: xG, xWQ, xBQ, xAQ, x2H, x1H, x1HS, x21H, xBC, xAC, +IC, -IQ, xMI, xMIQ, xBK, xPO, xPOQ, xPOR, xPOQ, xMC, xRIC, xRIQ, xGJC, xGJQ, xPC, xCC, xCQ, xCLC, xCLQ, xSI
Orc: -G, -WQ, xBQ, -AQ, +2H, +1H, x1HS, 21H, xBC, -AC, xIC, xIQ, xMI, xMIQ, xBK, xPO, xPOQ, xPOR, xPORQ, xMC, +RIC, -RIQ, -GJC, -GJQ, xPC, -CC, -CQ, -CLC, -CLQ, xSI
Centaur:
Nymph:
Orc Sergeant:
Harpy:
Skeletal Warrior:
Giant:
Zombie:
Ghost:
Mummy:
Orc Shaman:
Wraith:
Orc Warlord:
Frost Daedra:
Fire Daedra:
Daedroth:
Vampire:
Daedra Seducer:
Vampire Ancient:
Daedra Lord:
Lich:
Ancient Lich:
Dragonling_Alternate:
Dreugh:
Lamia:

Classes:

Archer: G, xWQ, +BQ, -AQ, x2H, x1H, x1HS, x21H, BC, -AC, -IC, -IQ, -MI, -MIQ, -BK, -PO, -POQ, xPOR, xPORQ, -MC, xRIC, xRIQ, xGJC, xGJQ, xPC, CC, CQ, -CLC, -CLQ, xSI
Barbarian: xG, -WQ, xBQ, -AQ, +2H, 1H, x1HS, 21H, xBC, +AC, -IC, -IQ, xMI, xMIQ, xBK, xPO, xPOQ, xPOR, xPORQ, xMC, +RIC, -RIQ, -GJC, -GJQ, xPC, -CC, -CQ, xCLC, xCLQ, xSI
Knight: +G, +WQ, xBQ, +AQ, x2H, x1H, 1HS, x21H, xBC, +AC, -IC, -IQ, MI, MIQ, BK, PO, POQ, xPOR, xPORQ, MC, RIC, RIQ, xGJC, xGJQ, xPC, CC, +CQ, CLC, +CLQ, xSI
Monk: xG, xWQ, xBQ, xAQ, x2H, x1H, x1HS, x21H, xBC, xAC, xIC, xIQ, MI, MIQ, +BK, PO, POQ, xPOR, xPORQ, -MC, +RIC, +RIQ, xGJC, xGJQ, xPC, -CC, -CQ, -CLC, -CLQ, xSI
Ranger: -G, xWQ, +BQ, -AQ, x2H, x1H, x1HS, x21H, BC, -AC, +IC, +IQ, MI, MIQ, xBK, PO, POQ, POR, PORQ, +MC, xRIC, xRIQ, xGJC, xGJQ, xPC, +CC, -CQ, +CLC, +CLQ, xSI
Warrior: G, WQ, BQ, AQ, 2H, 1H, 1HS, 21H, BC, AC, -IC, -IQ, -MI, -MIQ, xBK, -PO, -POQ, xPOR, xPORQ, -MC, xRIC, xRIQ, xGJC, xGJQ, xPC, CC, CQ, CLC, CLQ, xSI
Battlemage:
Healer:
Mage:
Nightblade:
Sorcerer:
Spellsword:
Acrobat:
Assassin:
Bard:
Burglar:
Rogue:
Thief:
Guard: G, WQ, BQ, AQ, 2H, x1H, 1HS, x21H, BC, +AC, xIC, xIQ, -MI, -MIQ, xBK, PO, POQ, xPOR, xPOQ, xMC, xRIC, xRIQ, xGJC, xGJQ, xPC, CC, CQ, CLC, CLQ, xSI


ENEMY SPELLS:

Only allow enemies 2 cast what's in these tables, unless specified include both melee/range variants

Imp: Slow/Wizard's Fire/Shock/Frostbite
Wraith: Fear/Paralyze/Enfeeble
Fire Daedra: Current Bossfall kit
Frost Daedra: Current Bossfall kit
Daedroth: Anything, no wimpy spells
Vampire: Vampiric Touch/Energy Leech/Drain Strength/Magicka Leech/Spell Drain/Sleep/Hand of Sleep/any other Drain effects
Daedra Seducer: Anything, no wimpy spells (perhaps make 'em cast only cunning or tricky spells, similar 2 Nightblade?)
Daedra Lord: Anything, no wimpy spells
Lich: Destruction school, only direct HP dmg spells, no wimpy spells
Ancient Lich: Anything, no wimpy spells
Mage: Anything
Battlemage: Destruction school, only direct HP dmg spells
Healer: Heal, Resist Magic/Elements, Troll's Blood, Shield 
Nightblade: Paralyze/Silence/Slow/Fear/Enfeeble/Energy Leech/Drain Strength/Spell Drain(melee & ranged variant, I forgot one of their names)/any non-Continuous Dmg Drain effects
Sorcerer: Anything
Spellsword: ?? TBD


ENEMY WEAKNESSES:

"GlitterGear" Spriggans dbl damage from Fire magic, never resist it, 25% extra dmg from Frost magic?, lower resistance to Frost?
"GlitterGear" Gargoyles weak to Adamantium, this material deals normal dmg regardless of weapon type


ITEM ENCHANTMENTS:

TO ADD: "Repairs Objects" Enchantment removed from Item Maker
TO ADD: "Absorbs Spells" Enchantment removed from Item Maker
TO ADD: "Enhances Skill" Enchantment 10x more expensive (does not change value of "Item of Venom Spitting")
TO ADD: "Increased Weight Allowance" Enchantment 10x more expensive
TO ADD: "Featherweight" Enchantment 10x more expensive
TO ADD: "Strengthens Armor" Enchantment 21.5x more expensive, buffs armor by -7 rather than -5

Credit "thevm" for inspiration for this whole section, and for any powers they suggested that u end up using

"thevm" Very, very rarely add previously removed OP enchantments but only in item enchantment bundle that includes nasty side effects:

Spell Absorption
Repairs Objects

"thevm" The above list is the OP ones I would consider using, combine 'em w/some combination of 2-3 of the following:

NEW EFFECT: Auto-fail every pacification check
NEW EFFECT: "thevm" Wealth Leech - reduces inventory gold/accrues debt over time if no money in inventory (10 GP/magic round? 15? 20?)
NEW EFFECT: Perma-Slow when equipped
NEW EFFECT: Perma-Enfeeble when equipped
NEW EFFECT: All doors are closed/locked in dungeons/buildings on every entry? ("You hear doors slam, then lock.")
NEW EFFECT: No jumping/climbing allowed (popup HUD msg to indicate why u can't whenever player tries)
NEW EFFECT: Fumble Fingers - every now and then wpn/shield is unequipped, removed from inventory, then added to a new floor loot pile at player's position
Item Deteriorates in Sunlight/User Takes Damage in Sunlight
NEW EFFECT: Item Deteriorates in Darkness/User Takes Damage in Darkness
NEW EFFECT: Fatigue Leech per in-game minute (64? 32? 16?)
NEW EFFECT: Magicka Leech per in-game minute (1/magic round), if Magicka exhausted drains 64? 32? 16? FAT? 1? HP?

"thevm" Besides set item powers, occasionally (very rarely) gen items w/special powers depending on type o' item
Value of these items would be more than standard, multiply? add? value depending on unique enchantment power
"thevm" Jewelry can get Extra Spell Pts & Regens Health
"thevm" Weapons can get Potent Vs/Vampiric Effect
"thevm" Armor can get FeatherWeight
"thevm" Boots can get Enhances Skill - Running
NEW EFFECT: "thevm" Reduced weight calculation (would be global, would reduce ur total inventory weight by some percentage - 5%? 10%? 15%? Add 3 tiers of this new enchantment, better = rarer ofc)
NEW EFFECT: "thevm" Fatigue/Magicka/(HP recovery?) 4 each enemy killed


ITEM SETS:

Item materials listed are for color only
Currently not using Mace/Flail FPS Weapon sprites, add themed sets that use them? Can't think of any good ones tho
Give set items ~x5 Steel durability
Give set items ~x5 Daedric value
Give set items +30? +40? to-hit bonus (have GetWeaponMaterialModifier in DaggerfallUnityItem return 3? 4?)
Use SetResistanceFlag in DaggerfallEntity to apply set item resistances, make sure flag is lowered when bonus isn't granted anymore
Add low % chance of calling GenerateSetItem function in Bossfall custom item generation methods when any items are generated
Have set items pop up 2nd msg box after item info
In 2nd msg box for set items show grey/black text list w/current set, turn equipped set items white, search equipped items for set items when player clicks on a set item in "Info" mode in the inventory
In 2nd msg box for set items below list of equipped/total set items put grey/black list w/bonuses granted w/multiple set items equipped, turn bonuses white if player is currently granted these bonuses
Make sure u update set effects w/every item equip/unequip
2 set items +1 bonus, 3 set items +2 bonuses, 5 set items all bonuses, put bonuses in worst-to-best order, make sure list lights up from top to bottom as player equips more of the current set, follow this list pattern for every set
Add +dmg from sets to ModifyAttackDamage FormulaOverride (or whatever) function in FormulaHelper? Or in CalculateAttackDamage FormulaOverride?
Give set items (per set, maybe?) unique property or bool so I can search equipped items for all items in the current set w/that property or bool
Give all set items custom names so player knows they're unique
Add "set" to "add" console command (or just add custom "create setItem" or "add setItem" console command), creates random set item (so u can test set item generation)
For ur set items in DaggerfallUnityEnums see if clothing dyes work on weapons, if so use those for set items w/custom colors (in inventory at least, won't look any different on HUD)
In DaggerfallInventoryWindow u can set background colors for set items in ItemBackgroundColourHandler function
Use DaggerfallEntityBehaviour.Entity.SetIncreasedArmorValueModifier to boost armor from item sets?
create SetItemTemplate.txt file, make it an array exactly like ItemTemplates.txt file but w/ur new fields?
Make set wpns use Magic FPS weapon sprites

MAGE SET
Purple item background
Amulet
Torc
Gem
Ring
Iron Staff 9-16 dmg
+10 Monster language skills (not Etiquette or Streetwise)
+15 all Magic skills
+75 Max Magicka
+1-2 Magicka per in-game minute

WARRIOR SET
Red item background
+24 Orcish cuirass, left pauldron, right pauldron, greaves
Orcish Warhammer 9-26 dmg
+10 Swimming
+15 Blunt Weapon
+25% IncreasedWeightAllowanceMultiplier
+64 Fatigue per in-game minute

ASSASSIN SET
Black item background
+8 Leather left pauldron, right pauldron, cuirass, helm/boots (whatever Tower Shield doesn't protect) (everything not protected by a Tower Shield so the final ability isn't OP as player will have terrible armor for balance)
Daedric Dagger 9-18 dmg
+10 Stealth
+15 Short Blade
+20 Backstabbing
+Coup de Grace ability - 1% on landed attack of instakill (HUD msg pop-up "Coup de Grace!")

MONK SET
White item background (to contrast w/random colored clothing)
Short Shirt, Casual Pants, Bracer, Sandals, Mark
+10 Hand-to-Hand
+15 Critical Strike
+20 Dodging
+5% chance to deal *3 H2H atk dmg (put this in Backstabbing formula in FormulaHelper?)

BARBARIAN SET
Yellow item background
+11 Chain boots, greaves, cuirass, helm
Elven War Axe 9-24 dmg
+10 Jumping
+15 Axes
+Poison Immunity
+75 Max Health

KNIGHT SET
Blue item background
+22 Ebony right pauldron, gauntlets, cuirass, + 12 Tower shield
Ebony Longsword 5-20 dmg
+10 Etiquette
+15 Long Blade
+Paralysis Immunity
+50% gold from quests

RANGER SET
Brown item background
+11 Chain boots, helm, gauntlets, cloth amulet
Mithril Long Bow 9-26 dmg
+10 Streetwise
+15 Archery
+20 Running
+Permanent Shadow Form True

LANGUAGE SKILLS:

"thevm" Halve? Quarter? pacification chance for VampireAncient/AncientLich/DaedraLord, make pacifying these enemies impossible unless player is above skill level 75 in the required language skill

LOCATION LOOT GENERATION:

This applies 2 both non-dungeon interior loot piles (in settlements) & all enemy loot table generated items for outdoor enemies in said locations, does not apply to enemy equipment
Make locationModifier in code (wherever it's used to generate this type o' loot) multiply rather than add, this will affect material rarity generation rates and how much loot gets generated
Have two parameters implement what this section gets - both are relative to 1, which is starting gen chance of 75 for while loops in BossfallItemBuilder item gen methods & +0 to enemyLevelModifier (which is enemy level * 50, which is fed into ur BossfallOverrides.RandomMaterial method)
A locationModifier of 3 will set starting gen chance of 150 for while loops & +250 to enemyLevelModifier, and a 0.01 locationModifier will set starting gen chance of 0 for while loops & -250 to enemyLevelModifier (a +5 or -5 enemy level boost essentially)


if (isDay)
locationModifier = LocationTypesDay lM

if (!isDay)
locationModifier = LocationTypesNight lM

Make loot piles completely different from dungeon loot piles (I'm thinking greatly reduce gold/valuables, mostly have household items and clothing)
If player activates a (non-custom) loot pile (see if this is all u need to check), if player fails a Pickpocket check the guards arrive, popup HUD msg box in that case "Hey! That's mine!" or "You hear a shout. You've been spotted!" or "Stop! Thief!"

LocationTypesDay:

TownCity: 1.75 lM
TownHamlet: 0.75 lM
TownVillage: 0.5 lM
HomeFarms: 0.05 lM
DungeonLabyrinth: 1.25 lM, gen standard adventuring loot
ReligionTemple: 0.5 lM, lots o' religious items, books, potion recipes & potions
Tavern: 0.25 lM, lots of empty bottles, higher potion chance
DungeonKeep: 0.75 lM, gen stardard adventuring loot
HomeWealthy: 0.25 lM
ReligionCult: 0.05 lM, lots o' religious items, books, potion recipes & potions
DungeonRuin: 0.25 lM, gen standard adventuring loot
HomePoor: 0.01 lM
Graveyard 0.01 lM, gen standard adventuring loot
Coven: 0.05 lM, lots o' religious items, books, magic items, higher chance o' Daedric

LocationTypesNight:

TownCity: 2 lM
TownHamlet: 1 lM
TownVillage: 0.75 lM
HomeFarms: 0.25 lM
DungeonLabyrinth: 1.5 lM, gen standard adventuring loot
ReligionTemple: 0.75 lM, lots o' religious items, books, potion recipes & potions
Tavern: 0.5 lM, lots of empty bottles, higher potion chance
DungeonKeep: 1 lM, gen stardard adventuring loot
HomeWealthy: 0.5 lM
ReligionCult: 0.25 lM, lots o' religious items, books, potion recipes & potions
DungeonRuin: 0.5 lM, gen standard adventuring loot
HomePoor: 0.1 lM
Graveyard 0.1 lM, gen standard adventuring loot
Coven: 0.25 lM, lots o' religious items, books, magic items, higher chance o' Daedric

LYCANTHROPY:

TO ADD: Transforming into werewolf/wereboar no longer restores player to maximum health

MAGIC ITEMS:

TO ADD: Holy Water displays custom HUD message when used

Greatly increase cost of any magic item w/cost above 1000 (to avoid nerfing cheap effects like Heal), multiply it by 10-20? U can do this in CreateMagicItem (or whatever) in BFItemBuilder
Increase value/cost of %it of Teleportation by x10

MISCELLANEOUS:

Above a certain height (4 dungeon wall blocks?) instakill falling entities, make sure jumping/falling from city walls isn't instakill
Below that height make falling dmg start @ 3.8f, dmg is 10f permetrefallen (look @ PlayerHealth for template, use Reflection to implement)
TO ADD: Training cap is 95
Nerf training, follow previous Bossfall rules (don't bother w/nerfing training from quest rewards, not worth it)
End goal is clear changelog below v1.3.1 section as that means you've added all previous changes to .dfmod (delete previous Changelog version's entries as u add them to .dfmod)
"thevm" Armor durability is being dmged even if player fully blocks all incoming dmg w/Shield, make it so if Shield blocks all dmg armor doesn't get dmged (to accomplish this, check 4 shield presence in BossfallOverrides.CalculateAttackDamage, dmg armor if appropriate, use code in DaggerfallEntity.DecreaseHealth as template)
Rework Spell Absorption Special Advantage and from the Item Maker - make it not 100%. Similar to how the spell Spell Absorption works? Or dependent on your WIL? Once rework's done, re-enable Spell Absorption from character creation & from Item Maker
Add avatar to DFWorkshop & NexusMods (the Ancient Lich pose from Bossfall cover picture?)
De-link extended enemy activation distance from DisplayEnemyLevel ON setting? Currently only displays msgs for enemies at longer range than vanilla if that setting is ON, change it if it really matters to you...
TO ADD: After a successful Pickpocket skill check on a human enemy or townsperson, 10% of the time you'll pilfer up to 100 gold pieces, 90% of the time you'll find nothing
TO ADD: Thus, Pickpocketing is 3.3 times more profitable (I never liked how pointless it was in vanilla)
TO ADD: Regardless of whether you find any gold, a successful Pickpocket check will count toward your Thieves Guild initiation letter
If it's a mod-added enemy, they won't have a moveSpeed set by ur moveSpeed arrays and will break the game. Set up a workaround for this

QUESTING:

Add gold reward quest changes using previous Bossfall values (figure out how to do so)
Refine quest gold generation to be more reasonable, potentially raise minimum gold range from 10
If possible increase dungeon quest rewards across the board, and check if quest sends u to kill a boss and greatly raise reward in that case

SHOPS:

Shop material tier caps and material rarities based on shop quality level:

Rusty relics: 89%? Iron, 10%? Steel, 1%? Elven (I am making these numbers up, they're subject to change ofc)
Sturdy shelves: Mostly Iron, sometimes Steel, rarely Elven, very rarely Dwarven
Average: Mostly Iron and Steel, sometimes Elven, rarely Dwarven, very rarely Mithril/Adamantium
Better appointed: Mostly Iron/Steel, Elven fairly common, sometimes Dwarven, rarely Mithril/Adamantium, very rarely Ebony
Incense: use standard random 0-1024 + 1 roll from RandomMaterial (in other words make no changes to current Incense shop item rarity)

General stores/pawn shops buy wpns/armor but don't repair them
General stores rarely stock short blades (never better than Steel?) and leather armor (or modded leather armor [never better than Steel?]), that's only wpn/armor types/materials they stock
Pawn shops rarely stock wpns/armor (can be anything, of any material tier [material tier caps from store quality will apply as normal]) but it's always between 10-50% durability (follow below line's precise durability range probabilities)
Pawn shop items are always damaged, on average 30% durability, goes from 10%-50% durability, weight it so 10-17 and 43-50 is very rare, 18-24 and 36-42 is pretty rare, and 25-35 is common
Pawn shops stock way more junk items, they don't stock nearly enough stuff as of now
Armorers/weaponsmiths stock and repair all types of wpns/armor (obviously)

For ur store material tier caps make separate GenerateRandomMaterial method for each store quality tier w/diff probabilities? or add check for store quality to RandomMaterial method and implement store quality difference there?

"thevm" Give Thieves Guilds the capability to buy Soul Gems at value = ((value - 50k) / 4), maybe make DB buy 'em too?
"thevm" Make Alchemist shops buy potions, price depends on potion value

SPELLS:

TO ADD: Continuous Damage: Health removed from Spellmaker. Wildfire still available for purchase, does impact dmg but nothing over time
TO ADD: If you & a monster are reflecting spells, spell will bounce between you until someone's reflection fails a save
TO ADD: Regenerate effect removed from SpellMaker

Mod template to use for new spells is in EntityEffectBroker in RegisterCustomEffectDemo & RaiseOnRegisterCustomEffectsEvent methods (do u want to use this w/ur new spells? prolly cuz u won't have a classic effect key)
Create a custom SpellRecords.json file? If this will allow u to easily implement previous Bossfall spell changes, DFU will load it and overwrite vanilla's SpellRecords.txt with ur custom data, remember to include it in Bossfall mod

ADD Enfeeble - all target types 'cept caster only, reduces target wpn damage (~33%?)
ADD Fear - all target types 'cept caster only, reduces target armor (~33%?) & target accuracy (~33%?)
ADD Polymorph spell - all target types 'cept caster only, (use Wabbajack or Morph Self effect), enemies can't use it, very expensive, costs and chance of success same as Disintegrate, Alteration school, morphs enemy into random other enemy (feed it thru seteEntityDefaults to set lvl n stuff) w/new loot (to avoid polymorphing Ancient Liches into Rats and getting a bunch of Daedric), what would it do if a monster reflected it??? Hmm... that's a big problem... would it change u into a random monster? Now that would be insane work... doubt it'll be very practical as it might not work and might create an Ancient Lich but it'd be fun for sure
ADD Slow spell - all target types 'cept caster only, reduces movespeed by 33%? or 50%?
ADD Haste spell - player caster only, boosts Running skill (~25?)
ADD to bosses some kind of Summon Nasties spell (1-3 vermin, golems, or undead), make HUD msg pop up so player knows enemies are summoned

REWORK Balyna's Balm - heals 15 HP/cast
REWORK Heal - heals 50 HP per cast/potion
REWORK Stamina - heals 30 Fatigue per cast/potion
REWORK Regeneration - a flat 10? 15? HP/magic round
REWORK so Holy Water/Dagger/Tome work 100% of the time rather than by player lvl (u could change how Dispel Undead/Daedra work or add custom spells I suppose)
REWORK low Magicka cost spells so they tally skill less, make high cost spells tally more? Some kind of skillTallyCounter, similar to runningTallyCounter, high MP cost spells raise counter more? Trying to figure out a way to make 5 MP cost spells not so efficient for training...
REWORK Create Item spell to not create stuff player can't use, check player's forbidden material & forbidden armor types to do this, then add very low base chance (0.1% at player spell skill level of 1%?) of higher (Adamantium cap?) tier material generation for wpns or armor, increase high tier material creation chance as player spell skill level increases, also increase material tier cap (up to Ebony?) at player spell skill level of 100%, credit "thevm" for this
REWORK Shield spell - refresh magnitude on re-cast before the spell expires (i.e. refresh Shield strength even if the end of the magic round hasn't happened and removed effects, so once Shield is broken and before it's removed on the new magic round you can re-cast Shield and re-up the magnitude w/out having to wait. If u do this make Shield stackable? Could be cool)

POTIONS:

TO ADD: Potions of Restore Power restore 50 Magicka, doesn't scale w/player level

ADD Haste potion - boosts Running skill by ~25
ADD Regeneration potion (if not already present)
ADD Magicka Regeneration potion (4 Magicka/round for 250? rounds) Expensive
ADD potion of Full Healing (make Heal True do this)
ADD potion of Full Healing for Mana (Restore Power True)
ADD potion of Full Healing for Stamina (Stamina True)
ADD potion of Restoration True (heal EVERYTHING to full, costs 2500? gold)
ADD the really OP potions to bosses only (Restoration True, Long term Magicka Regeneration, OP HP Regen potion are only really really good ones I can think of)

REWORK Dispel Magic potion so it doesn't clear player's Teleport anchor(s) - credit "thevm" for this fix

WILDERNESS LOOT GENERATION:

Only will apply 2 enemy loot table generated items for enemies spawned outdoors in map pixels that don't contain a location (wilderness areas), does not apply to enemy equipment
Loot content/quality scales on difficulty of enemies that can spawn current climate and scales by whether it's day/night
Have two parameters implement what this section gets - both are relative to 1, which is starting gen chance of 75 for while loops in BossfallItemBuilder item gen methods & +0 to enemyLevelModifier (which is enemy level * 50, which is fed into ur BossfallOverrides.RandomMaterial method)
A locationModifier of 3 will set starting gen chance of 150 for while loops & +250 to enemyLevelModifier, and a 0.01 locationModifier will set starting gen chance of 0 for while loops & -250 to enemyLevelModifier (a +5 or -5 enemy level boost essentially)


if (isDay)
locationModifier = WildernessTypesDay lM

if (!isDay)
locationModifier = WildernessTypesNight lM

WildernessTypesDay:

DesertDay: 1.5 lM
MountainDay: 0.5 lM
MountainWoodsDay: 0.5 lM
RainforestSwampDay: 0.75 lM
SubtropicalDay: 0.75 lM
WoodlandsDay: 0.5 lM
HauntedWoodlandsDay: 1.75 lM

WildernessTypesNight:

DesertNight: 0.75 lM
MountainNight: 1.5 lM
MountainWoodsNight: 1.25 lM
RainforestSwampNight: 1 lM
SubtropicalNight: 1 lM
WoodlandsNight: 0.75 lM
HauntedWoodlandsNight: 2 lM


BOSSFALL v1.5 TO-DO:

Clone HDD onto SSD, put SSD into comp remove HDD
Superwipe HDD, once securely wiped dispose of it (or keep it for a backup?)
Get Discord (join DFU mod channel - Lysandus' Tomb) https://discord.gg/2x97zbGZxj is Discord link
Look up "FullSerializer" (is it a Unity or C# thing?) and the difference between declaring/using/invoking that and the "[Serializable]" thing u see everywhere
Look up "[fsObject()]" and what it does (it's a sub-class? attribute? property? of "FullSerializer" I would think), I think it marks individual "GameObjects" to be "fully serialized", whatever that means and actually does
Give Spriggans 3 "lives", make 'em more powerful w/each life as described in DF Chronicles
If a nymph drains you below 0 fatigue, advance time by 14 days and FillVitalSigns(). Teleport them into a random dungeon, minus all their gold - reasoning is while you were exhausted you couldn't resist her nymphly charms and became her puppet for 2 weeks. She stole all your gold (it's shiny and pretty) and left you alone finally because she got bored. Potentially add quest to hunt her down for revenge - she could leave a note on your body roughly translated as "thanks for all the fun and your shiny gold, signed Aetheria" written in Nymph, you gotta take it to a local Nymph expert at a Mages Guild who will turn beet-red and refuse to translate it word-for-word (it's too scandalous) but will tell you it's a well-known Nymph who hangs out at such and such dungeon, make sure u flag quest X for adult/nudity
Write some Bossfall-specific quests, replace "Quests for Grown-Ups", use any good ideas from the existing plot outlines you wrote
Add some Bossfall-specific dungeons 2 go w/ur Bossfall-specific quests? If ur motivated 2 do so
Add a way to pop up potion maker outside of temple potion mixer service - if u "use" a cauldron or pot or something (you can use RegisterCustomActivation in PlayerActivate for either a model or a flat (a sprite I think) to do custom actions on activation of said model or flat)? Make potion mixing this way require an empty bottle per potion? You may have to add empty bottles to random loot generation?
SETTING: Make dungeons serializable (save their contents), reset yearly on 1st of Morning Star
SETTING: Once u serialize dungeons make quests always send u to a new non-visited dungeon first, once all dungeons in region are visited then quests will send u to already visited dungeons
SETTING: Make visited/non-visited dungeon lists reset yearly on 1st of Morning Star. Dungeons will respawn on that date, maybe syncing visited dungeon list to reset on that date is a good idea?
Nerf shop stealing, make almost all shelf wpns/armor Iron if in shop after open hours - for Alchemists almost always generate from crappy ingredient lists, for Pawn Shops almost never let holy items/gems generate, for clothing shops almost never let Priest/ess Robes, Khajiit Suits & the like generate (like 1% chance of shelf item generation at regular loot odds, so it will be huge nerf to stealing), save the shelf contents for the open/closed block of time (to avoid "loot an entire shelf of crappy Iron stuff, close/reopen it, more items appear, loot it again" exploit loop), no more (so for-sale items effectively reset every 24 hours, like vanilla)
Fix inconsistent class generation questions (for example the Mage template - if you answer "Mercantile" you get bio notes about swimming, if you answer "Swimming" you get bio notes about talking and haggling with merchants?
SETTING:? Implement execution if player is guilty of murder - send 'em to a Prison but remove all their items and gold first (a brutal punishment, so maybe add it as a setting)
Use RemoveItem in a for loop to remove all of player's items when executing player for crime & before sending them to a prison, make sure to unequip all items if equipped, update equipped armor values after each armor item unequipped, and avoid removing quest items
SETTING:? overhaul enemy combat movement/AI, give enemies custom AI for more variety over v1.2's one-size-fits-all AI
SETTING:? create runAway bool in EnemyMotor, true once enemy is below 1/8 HP (only if they don't have Adrenaline Rush & not Undead, if they do they keep fighting 'til they die), put in delay of 0.3-0.8 for non-perfect runAway reflexes, pop up HUD message "The (insert enemy name) turns to run."
SETTING:? If runAway is true outside enemy runs for it (original vector is raycast straight from player's camera facing at time bool turns true, so it should look like they turn tail and bolt, you'll have to put in some building/in location pixel checks so they don't try to run through the side of a building) at movement speed x1.5-2.0, after 5-10 seconds if they pass a check of minimum distance to player they disappear (use DestroyGameObject), if check fails (player is chasing) they keep running until check runs again, repeat until distance check passes or enemy dies
SETTING:? If runAway is true inside somehow get them outside of player camera raycast hit and once they're out of range for 1-2 seconds (and they pass a minimum distance to player check) DestroyGameObject so they disappear
SETTING:? If enemy is magic user once runAway is true (they turn and run as normal) start a random timer from 0.3-~3-5 seconds, if they're still below 1/8 HP (they might cast Heal while running, if so they break out of runAway and keep fighting) play Magic spell cast sound, show sparkles effect, DestroyGameObject so they disappear, pop up HUD message "The (insert enemy name) teleports away."
SETTING:? Once runAway is true send monster on initial vector = player's camera, on updates (or once they hit an obstacle) send out raycasts at 90 degrees to left and right, also send out angled raycasts at ~45 degrees (whatever degree works best for stairs) to their left/right to check for passageways, have 'em run towards an opening at least once they hit an obstacle perhaps sooner, maybe if random.range is 0 out of 0-1 send 'em thru the first opening so it looks like they duck for cover ASAP
SETTING:? Do not ever let quest monsters/enemies use runAway as that would likely break quest, put in quest target check on runAway initialization check
SETTING:? U can use slope check in line ~1276 of EnemyMotor where it does check.Up.y++ to check for upward slopes
SETTING:? Give Thieves/Burglars/Rogues/Acrobats a random chance to take one/two of ur items and some gold, add it to theirs, then they run away (use runAway bool/function)

COMBAT MECHANICS:

"thevm" Add special abilities for non-magic users (0.5 to 1.0? 1.5? Magicka/INT) that drain FAT rather than MP

Add "Acrobatics" skill that govern these abilities, FAT drain scales down and ability effectiveness scales up w/skill level

To select skill to use, pop up Item Use screen repurposed for this? W/new hotkey? However u bind new hotkeys, I know TravelOptions does so? Opening a screen EVERY TIME you want to use these sounds annoying though, u should let player bind individual abilities/skills to hotkeys, but u should also pop up full list o' abilities if desired, so do both these things
"thevm" Each use of these skills would cost FAT and would exercise "Acrobatics"
Add a different skill that governs attack abilities, come up with Acrobatics-themed name
Each use of a special wpn ability would exercise skill from above line rather than base "Acrobatics" skill

"thevm" "Super jump" - jump x2? x3? x4? regular height, perhaps several dungeon building blocks? Privateer's hold throne room stairs to above passageway would be good target height
"thevm" "Soft landing" buff - when activated you can fall much greater distances w/out taking dmg
"thevm" "Heavy attacks" temporary increase 2 wpn dmg, dmgs durability more
"thevm" "Super sneaking" Once Stealth and Acrobatics skill is high enough, u have perma Shadow Form True if crouching and not running
"thevm" "Whirlwind attack" Once activated, ur next attack will be set number of really fast atks, atk count scales w/new wpn ability skill
"thevm" "Dash" moves in whatever direction a set amount, really fast, distance dashed increases w/Acrobatics skill